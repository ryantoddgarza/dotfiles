#!/bin/sh

# Close any open System Preferences panes to prevent them from overriding
# the settings that follow
osascript -e 'tell application "System Preferences" to quit'

# Immediately validate sudo user
sudo -v

# KEYBOARD, MOUSE, & TRACKPAD

# Disable press-and-hold for keys in favor of key repeat
defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

# Set a fast keyboard repeat rate
defaults write NSGlobalDomain KeyRepeat -int 2
defaults write NSGlobalDomain InitialKeyRepeat -int 20

# SCREEN

# Screencapture directory
screencapture_dir="${HOME}/Pictures/Screencapture"

# Create screencapture directory if it doesn't exist
mkdir -p $screencapture_dir

# Save screenshots to specified directory
defaults write com.apple.screencapture location -string "$screencapture_dir"

# Remove default timestamp
defaults write com.apple.screencapture "include-date" 0

# Save screenshots as jpg
defaults write com.apple.screencapture type -string "jpg"

# Prefix screenshots filename
defaults write com.apple.screencapture name -string "`hostname`-`date +"%Y%j_%H%M%S"`"

# Disable drop shadow
defaults write com.apple.screencapture disable-shadow -bool true
